<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/Users/joshuaharlev/RiderProjects/ConceptOfRandom/ConceptOfRandomTests/CardsTests.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Diagnostics.CodeAnalysis;
using ConceptOfRandom;
using ConceptOfRandom.Models.Simulation.Blackjack.Display_Strategy;
using ConceptOfRandom.Models.Simulation.Blackjack.Enums;
using ConceptOfRandom.Models.Simulation.Blackjack.Objects;

namespace ConceptOfRandomTests;

public class CardsTests
{
    [Fact]
    public void CardToString_SymbolDisplayStrategy()
    {
        var card = new Card(Rank.Ace, Suit.Spades);
        var originalStrategy = CardDisplay.Current;
        CardDisplay.Current = new SymbolDisplayStrategy();
        try
        {
            var text = card.ToString();
            Assert.Equal(&quot;Aâ™ &quot;, text);
        }
        finally
        {
            CardDisplay.Current = originalStrategy;
        }
    }
    [Fact]
    public void CardToString_WordlDisplayStrategy()
    {
        var card = new Card(Rank.Ace, Suit.Spades);
        var originalStrategy = CardDisplay.Current;
        CardDisplay.Current = new WordDisplayStrategy();
        try
        {
            var text = card.ToString();
            Assert.Equal(&quot;Ace of Spades&quot;, text);
        }
        finally
        {
            CardDisplay.Current = originalStrategy;
        }
    }
    
    [Fact]
    public void CardToString_UsesCurrentDisplayStrategy()
    {
        var card = new Card(Rank.Ace, Suit.Spades);
        var originalStrategy = CardDisplay.Current;
        CardDisplay.Current = new DummyStrategy();
        try
        {
            var text = card.ToString();
            Assert.Equal(&quot;DUMMY:Ace-Spades&quot;, text);
        }
        finally
        {
            CardDisplay.Current = originalStrategy;
        }
    }
    
    // Fake Display Strat to make sure strat is working (recommended by bot)
    class DummyStrategy : ICardDisplayStrategy
    {
        public string GetDisplay(Card c)
        {
            // include rank &amp; suit so we know it actually got the Card
            return $&quot;DUMMY:{c.Rank}-{c.Suit}&quot;;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[13,5,13,6,1],[14,9,14,52,1],[15,9,15,52,1],[16,9,16,59,1],[18,9,18,10,1],[19,13,19,40,1],[20,13,20,38,1],[21,9,21,10,1],[23,9,23,10,1],[24,13,24,52,1],[25,9,25,10,1],[26,5,26,6,1],[29,5,29,6,1],[30,9,30,52,1],[31,9,31,52,1],[32,9,32,57,1],[34,9,34,10,1],[35,13,35,40,1],[36,13,36,49,1],[37,9,37,10,1],[39,9,39,10,1],[40,13,40,52,1],[41,9,41,10,1],[42,5,42,6,1],[46,5,46,6,1],[47,9,47,52,1],[48,9,48,52,1],[49,9,49,51,1],[51,9,51,10,1],[52,13,52,40,1],[53,13,53,52,1],[54,9,54,10,1],[56,9,56,10,1],[57,13,57,52,1],[58,9,58,10,1],[59,5,59,6,1],[65,9,65,10,1],[67,13,67,47,1],[68,9,68,10,1]]);
    </script>
  </body>
</html>